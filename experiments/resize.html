<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Image Diff</title>
</head>
<body>
<script src="../src/imgutils.js" type="text/javascript"></script>
<script>
    var canvas = document.createElement('canvas');
    var ctx = canvas.getContext('2d');
    document.body.appendChild(canvas);

    var img = new Image();
    img.src = 'images/ladybugswhitebg.jpg';
    img.onload = function(e) {
        canvas.height = this.naturalHeight;
        canvas.width = this.naturalWidth;

        var starttime = new Date().getTime();
        ctx.drawImage(img, 0, 0, this.naturalWidth, this.naturalHeight);
        var imgPixels = ctx.getImageData(0, 0, this.naturalWidth, this.naturalHeight);
        ctx.putImageData( ImageUtils.scaleDown(imgPixels, 2), 0, 0, 0, 0, this.naturalWidth/2, this.naturalHeight/2 );
        var endtime = new Date().getTime();
        console.log((endtime-starttime)/1000 + ' seconds');
    };
</script>

</body>
</html>